# angular1-dirty

## what is scope
scope是AngularJS中的核心概念之一。

### 它的功能主要有以下几点 (VM)
1. 通过数据共享连接 Controller 和 View
2. 事件的监听和响应
3. 脏数据检查和数据绑定

## 脏数据检查(Dirty Checking)
- 实际上是一种概念而不是指具体的某种技术。
- 根据应用的场景，不同的技术都会选择实现这一概念，
- 比如Java中的ORM框架Hibernate也实现了脏数据检查

### 在AngularJS中
脏数据检查在scope这一对象中通过 `$digest` 方法实现。但是一般认为 `$digest` 方法过于底层，更加推荐使用 `$apply` 方法。该方法算是对 `$digest`方法的一层包装吧。


## jQuery 时代是怎么操作数据的
- 使用jQuery这种库开发过Web应用的同学们都知道，每次在获取了所需要的数据之后，
- 需要写不少代码去把DOM折腾一番，让前端的View能够反映出最新的数据。这个过程不仅繁琐易出错而且写多了也很无聊

## what is 数据绑定
- 实际上就是为前端部分的占位符和后台的对应数据建立一种关联关系。
- 这个关联关系可以是双向的
- 也可以是单向的 (包括，正向，反向)

## what is 单向的数据绑定
单向的数据绑定就是后台数据的动态更新能够实时自动地同步到前端

## what is 双向的数据绑定
- 而双向的数据绑定则是在单向数据绑定的基础之上，实现了前端数据的动态更新也能自动实时地同步到后台。
- 容纳该数据变量的地方。应用于AngularJS这个场景，也就对应着scope

## 事件实现
~~~
首先，很明显的一点是需要有一种办法能够在一方数据发生变化的时候，通知另一方：嗨，我这里的数据更新了，请你也更新一下吧。看到这个需求，很多同学肯定能够不假思索地回答：使用事件不就好了！
但是！这样以来，不又走到了jQuery那一套bind/on的老路子上了嘛。最后还是需要开发人员一个个的注册事件，写响应事件的回调函数。什么都没有改变！
~~~

## Angular1.x 的实现
~~~
AngularJS为了不走寻常路，设计一套截然不同的方案来解决了数据绑定的问题。
这种方案不需要开发人员写任何事件相关的注册代码和响应代码。
这就导致了`Digest Cycle`的诞生，也就是$digest方法。
~~~

## $digest方法需要完成两件事情才能实现数据绑定：
1. 确定此次检查和上一次检查的这段时间内，哪些数据发生了变化 (检测变化)
2. 对于改变了的数据，设法通知到另一端(如果是后台变化了，那么就需要通知到前端)；没改变的数据则不需要处理 (发通知)

## resources
- https://blog.csdn.net/dm_vincent/article/details/50344395